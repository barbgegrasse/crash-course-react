(this["webpackJsonpreact-redux-start-create-react-app"]=this["webpackJsonpreact-redux-start-create-react-app"]||[]).push([[0],{115:function(e,n,t){e.exports=t(317)},317:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(10),i=t.n(o),c=t(14),s=t.n(c),l=t(13),u=t(39),p=t(112),m=t(113),d=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;Object(p.a)(this,e),this.basket=n,this.setBasket=t}return Object(m.a)(e,[{key:"getBasket",value:function(){return this.basket}},{key:"getTotalItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.basket;if(e&&e.length>0){var n=e.reduce((function(e,n){return e+n.qty}),0);return n}console.error("---- ATTENTION NO BASKET PROVIDED TO getTotalItems ----")}},{key:"getTotalBasket",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.basket;if(e&&e.length>0){var n=e.reduce((function(e,n){return e+n.qty*n.price}),0);return n}}},{key:"addBasketItem",value:function(e){var n=this;if(e){if(0==this.basket.length)e.qty=1,this.basket.push(e),this.setBasket(Object(u.a)(this.basket));else if(this.basket){var t=!1;this.basket.map((function(a){e.id==a.id&&(a.qty+=1,n.setBasket(Object(u.a)(n.basket)),t=!0)})),t||(e.qty=1,this.basket.push(e),this.setBasket(Object(u.a)(this.basket)))}else console.log("out");this.getTotalItems(this.basket)}else console.error("---- ATTENTION NO MOVIE PROVIDED TO addBasketItem ----")}},{key:"minusBasketItem",value:function(e){if(e){var n=this.basket.map((function(n){return n==e&&n.qty--,n}));this.setBasket(n)}else console.error("---- ATTENTION NO ITEM PROVIDED TO minusBasketItem ----")}},{key:"deleteBasketItem",value:function(e){if(e){var n=this.basket.filter((function(n){return n!=e}));this.setBasket(n)}else console.error("---- ATTENTION NO ITEM PROVIDED TO deleteBasketItem ----")}}]),e}(),f=t(1),b=t(2),v={colors:{mainBg:"#202530",main:"#ebe9e1",primary:"#ff2c77",secondary:"#343d4f"},fonts:{logo:"'Odibee Sans', cursive",primary:"'Roboto', sans-serif"}};function h(){var e=Object(f.a)(["\n  font-size: 24px;\n  font-weight: bold;\n  text-transform: uppercase;\n  font-family: ",";\n  color: ",";\n  letter-spacing: 1px;\n"]);return h=function(){return e},e}function g(){var e=Object(f.a)(["\n  position: relative;\n  scroll-snap-align: start;\n\n  .bloc-infos {\n    display: none;\n    position: absolute;\n    width: 100%;\n    padding: 0 10px;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n  }\n\n  .bloc-hover {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    transition: all 0.3s ease-out;\n  }\n  &:hover .bloc-infos {\n    display: inherit;\n  }\n  &:hover .bloc-hover {\n    background: rgb(32, 37, 47, 0.8);\n  }\n"]);return g=function(){return e},e}var x=Object(b.a)("article")(g()),y=Object(b.a)("h3")(h(),v.fonts.logo,v.colors.primary);function k(e){var n=e.movie,t=e.myBasket,a=e.setPrimeMovie;return r.a.createElement(x,null,r.a.createElement("div",{className:"bloc-hover"}),r.a.createElement("div",{className:"media"},r.a.createElement("img",{loading:"lazy",alt:n.name,src:"https://image.tmdb.org/t/p/w500/"+n.poster_path})),r.a.createElement("div",{className:"bloc-infos"},r.a.createElement(y,null,n.title),r.a.createElement("p",{className:"title_list_item"},n.price," $"),r.a.createElement("a",{href:"#main-container",className:"btn-savoirplus",onClick:function(){return a(n)}},"Voir la bande annonce"),r.a.createElement("p",{className:"btn-addtobasket",onClick:function(){return t.addBasketItem(n)}},"Ajouter au panier")))}function O(){var e=Object(f.a)(["\n  font-size: 45px;\n  margin-bottom: 30px;\n"]);return O=function(){return e},e}function E(){var e=Object(f.a)(["\n  scroll-snap-type: x proximity;\n  overflow-x: auto;\n  overflow-y: hidden;\n  display: grid;\n  grid-auto-flow: column;\n  grid-auto-columns: 33%;\n  box-shadow: -11px -11px 22px #1b1f28, 11px 11px 22px #252b38;\n"]);return E=function(){return e},e}var j=Object(b.a)("div")(E()),w=Object(b.a)("h2")(O());function B(e){var n=e.movies,t=e.myBasket,a=e.setPrimeMovie;return r.a.createElement("section",null,r.a.createElement(w,{id:"popular"},"Les films populaires"),r.a.createElement(j,null,n.map((function(e){return r.a.createElement(k,{key:e.id,movie:e,setPrimeMovie:a,myBasket:t})}))))}var T=t(114);t(297);function I(e){var n=e.sendSearchText,t=e.sendHandleChange,o=e.tabMovieTypehead,i=Object(a.useState)(""),c=Object(l.a)(i,2),s=c[0],u=c[1],p=Object(a.useState)([]),m=Object(l.a)(p,2),d=m[0],f=m[1],b=function(e){t(s);var n=o.map((function(e){return{name:e.title}}));f(n),u(e)};return r.a.createElement("form",{id:"mysearchbar",onSubmit:function(e){n(document.querySelector(".rbt-input-main").value),e.preventDefault()}},r.a.createElement("div",{className:"input-group mb-3 searchbar"},r.a.createElement(T.Typeahead,Object.assign({},s,{id:"searchBar",labelKey:"name",options:d,minLength:3,placeholder:"Quel est le film de vos r\xeaves ?",onInputChange:b,onSearch:b,multiple:!1,value:s})),r.a.createElement("span",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-secondary",type:"submit"},"GO GO GO !"))))}function N(){var e=Object(f.a)(["\n  display: inline-block;\n  padding: 11px 21px;\n  margin: 30px 0 0 0;\n  font-size: 18px;\n  border-radius: 10px;\n  background: linear-gradient(145deg, #222833, #1d212b);\n  box-shadow: 5px 5px 10px #15181e, -5px -5px 10px #272d3b;\n  transition: all 0.3s ease-in-out;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  font-family: ",";\n  font-weight: bold;\n  color: ",";\n  cursor: pointer;\n\n  &:hover {\n    background: #202530;\n    box-shadow: inset 5px 5px 21px #191d25, inset -5px -5px 21px #272d3b;\n  }\n"]);return N=function(){return e},e}function S(){var e=Object(f.a)(["\n  font-size: 22px;\n  line-height: 1.4;\n"]);return S=function(){return e},e}function q(){var e=Object(f.a)(["\n  padding-bottom: 15px;\n  margin-bottom: 30px;\n  text-transform: uppercase;\n  font-size: 55px;\n  font-weight: 600;\n  color: ",";\n  border-bottom: 1px solid ",";\n"]);return q=function(){return e},e}function M(){var e=Object(f.a)([""]);return M=function(){return e},e}var z=Object(b.a)("article")(M()),A=Object(b.a)("h1")(q(),v.colors.primaryColor,v.colors.secondary),C=Object(b.a)("p")(S()),P=Object(b.a)("p")(N(),v.fonts.logo,v.colors.primary);function R(e){var n=e.movie,t=e.myBasket,a=n.title,o=n.overview;return r.a.createElement(z,null,r.a.createElement(A,null,a),r.a.createElement(C,null,o),r.a.createElement(P,{onClick:function(){return t.addBasketItem(n)}},"Ajouter au panier"))}function D(e){var n=e.moviekey;return r.a.createElement("div",{className:"embed-responsive embed-responsive-16by9"},r.a.createElement("iframe",{className:"embed-responsive-item",width:"560",height:"315",src:"https://www.youtube.com/embed/".concat(n),frameBorder:"0",allowFullScreen:!0}))}function _(){var e=Object(f.a)(["\n  display: inline-block;\n  padding-left: 20px;\n  color: ",";\n  font-size: 18px;\n  font-weight: bold;\n  text-transform: uppercase;\n  transition: all 0.3s ease-in-out;\n  &:hover {\n    text-decoration: none;\n    color: ",";\n  }\n"]);return _=function(){return e},e}function L(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n"]);return L=function(){return e},e}function V(){var e=Object(f.a)(["\n  font-family: ",";\n  font-size: 35px;\n  color: ",";\n"]);return V=function(){return e},e}function G(){var e=Object(f.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return G=function(){return e},e}function H(){var e=Object(f.a)(["\n  position: sticky;\n  top: 0;\n  z-index: 10;\n\n  padding: 10px 0;\n  align-items: center;\n  background: linear-gradient(145deg, #222833, #1d212b);\n  box-shadow: 13px 13px 21px #191d25, -13px -13px 21px #272d3b;\n  margin-bottom: 40px;\n"]);return H=function(){return e},e}var Y=Object(b.a)("header")(H()),F=Object(b.a)("header")(G()),J=Object(b.a)("p")(V(),v.fonts.logo,v.colors.primary),K=Object(b.a)("nav")(L()),Q=Object(b.a)("a")(_(),v.colors.main,v.colors.primary),U=function(e){var n=e.basket,t=0;n&&(t=new d(n).getTotalItems(n));return r.a.createElement(Y,null,r.a.createElement(F,{className:"max-container"},r.a.createElement(J,null,"Movie App"),r.a.createElement(K,null,r.a.createElement(Q,{href:"#main-container"},"Rechercher"),r.a.createElement(Q,{href:"#popular"},"A la une"),r.a.createElement(Q,{href:"#basket"},"Panier ",t))))};function $(){var e=Object(f.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 40px 20px;\n  align-items: center;\n  box-shadow: 13px 13px 20px #191d25, -4px -5px 7px #272d3b;\n  border-radius: 20px;\n  margin-bottom: 40px;\n"]);return $=function(){return e},e}var W=Object(b.a)("section")($()),X=function(e){var n=e.itemBasket,t=e.myBasket;return r.a.createElement(W,null,r.a.createElement("div",null,"Nom: ",n.title,r.a.createElement("button",{onClick:function(){return function(e,n){n.deleteBasketItem(e)}(n,t)}},"Delete"),r.a.createElement("button",{onClick:function(){return t.minusBasketItem(n)}},"Minus")),r.a.createElement("div",null," Prix : ",n.price),r.a.createElement("div",null," Qty : ",n.qty))};function Z(){var e=Object(f.a)(["\n  font-size: 35px;\n  text-transform: uppercase;\n  margin: 40px 0 60px;\n"]);return Z=function(){return e},e}function ee(){var e=Object(f.a)(["\n  padding: 10px 0;\n  align-items: center;\n  margin-bottom: 40px;\n  border-bottom: 1px solid purple;\n"]);return ee=function(){return e},e}var ne=Object(b.a)("section")(ee()),te=Object(b.a)("h2")(Z()),ae=function(e){var n=e.myBasket;return r.a.createElement(r.a.Fragment,null,r.a.createElement(te,null,"Mon panier de grand prince"),r.a.createElement(ne,null,function(e){var n=e.getBasket();if(n&&n.length>0)return n.map((function(t){return r.a.createElement(X,{myBasket:e,key:t.id,basket:n,itemBasket:t})}))}(n)),n.getTotalBasket())},re=t(24),oe=t.n(re),ie=function(e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))return!1;return!0},ce=function(e,n){return Math.floor(Math.random()*(n-e))+e},se=(t(316),t(20));function le(){var e=Object(f.a)(['\n        /* RESET CSS ERIC MEYER */\n        html,\n        body,\n        div,\n        span,\n        applet,\n        object,\n        iframe,\n        h1,\n        h2,\n        h3,\n        h4,\n        h5,\n        h6,\n        p,\n        blockquote,\n        pre,\n        a,\n        abbr,\n        acronym,\n        address,\n        big,\n        cite,\n        code,\n        del,\n        dfn,\n        em,\n        img,\n        ins,\n        kbd,\n        q,\n        s,\n        samp,\n        small,\n        strike,\n        strong,\n        sub,\n        sup,\n        tt,\n        var,\n        b,\n        u,\n        i,\n        center,\n        dl,\n        dt,\n        dd,\n        ol,\n        ul,\n        li,\n        fieldset,\n        form,\n        label,\n        legend,\n        table,\n        caption,\n        tbody,\n        tfoot,\n        thead,\n        tr,\n        th,\n        td,\n        article,\n        aside,\n        canvas,\n        details,\n        embed,\n        figure,\n        figcaption,\n        footer,\n        header,\n        hgroup,\n        menu,\n        nav,\n        output,\n        ruby,\n        section,\n        summary,\n        time,\n        mark,\n        audio,\n        video {\n          margin: 0;\n          padding: 0;\n          border: 0;\n          font-size: 100%;\n          font: inherit;\n          vertical-align: baseline;\n        }\n        /* HTML5 display-role reset for older browsers */\n        article,\n        aside,\n        details,\n        figcaption,\n        figure,\n        footer,\n        header,\n        hgroup,\n        menu,\n        nav,\n        section {\n          display: block;\n        }\n        body {\n          line-height: 1;\n        }\n        ol,\n        ul {\n          list-style: none;\n        }\n        blockquote,\n        q {\n          quotes: none;\n        }\n        blockquote:before,\n        blockquote:after,\n        q:before,\n        q:after {\n          content: "";\n          content: none;\n        }\n        table {\n          border-collapse: collapse;\n          border-spacing: 0;\n        }\n\n        /* ------------- */\n        /* STYLES GLOBAL */\n        /* ------------- */\n        body {\n          background-color: ',";\n          color: ",";\n          font-size: 18px;\n          font-family: ",";\n        }\n        img {\n          max-width: 100%;\n        }\n\n        /* LAYOUT */\n        .max-container {\n          width: 1440px;\n          margin-left: auto;\n          margin-right: auto;\n          max-width: 100%;\n        }\n\n        /* SEARCH BAR */\n        .searchbar {\n          color: ",";\n\n          .rbt-input-main {\n            border-radius: 10px;\n            background: linear-gradient(145deg, #222833, #1d212b);\n            box-shadow: 20px 20px 60px #1b1f29, -20px -20px 60px #252b37;\n            border: 1px solid #1f222b;\n            transition: all 0.3s ease-in-out;\n            &:hover {\n              border-bottom: 1px solid ",";\n            }\n          }\n        }\n        .btn {\n          border: none;\n          color: ",";\n          text-transform: uppercase;\n          font-family: ",";\n          font-weight: 600;\n          font-size: 24px;\n        }\n      "]);return le=function(){return e},e}function ue(){return r.a.createElement(se.a,{styles:Object(se.c)(le(),v.colors.mainBg,v.colors.main,v.fonts.primary,v.colors.main,v.colors.primary,v.colors.primary,v.fonts.logo)})}function pe(){var e=Object(f.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  margin: 60px 0;\n  grid-gap: 60px;\n"]);return pe=function(){return e},e}var me=Object(b.a)("div")(pe());function de(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],o=n[1],i=Object(a.useState)({}),c=Object(l.a)(i,2),u=c[0],p=c[1],m=Object(a.useState)([]),f=Object(l.a)(m,2),b=f[0],v=f[1],h=Object(a.useState)([]),g=Object(l.a)(h,2),x=g[0],y=g[1],k=Object(a.useState)([]),O=Object(l.a)(k,2),E=O[0],j=O[1],w=new d(E,j),T="https://api.themoviedb.org/3/",N="search/movie/?language=fr&include_adult=false",S="api_key=383fad9661a33d6164b48dd1309a05cd";Object(a.useEffect)((function(){!function(){var e,n,t;s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s.a.awrap(oe()("".concat(T).concat("discover/movie?sort_by=popularity.desc&page=1","&").concat(S)));case 3:e=a.sent,(n=e.data.results.slice(1,20)).map((function(e){return e.price=ce(20,30)})),o(n),(t=e.data.results.slice(0,1))[0].price=ce(20,30),v(t[0]),a.next=16;break;case 12:throw a.prev=12,a.t0=a.catch(0),console.log(a.t0),a.t0;case 16:case"end":return a.stop()}}),null,null,[[0,12]])}()}),[]),Object(a.useEffect)((function(){ie(b)||function(e){var n;s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.awrap(oe()("".concat(T,"movie/").concat(e.id,"?append_to_response=videos&").concat(S)));case 3:(n=t.sent).data.videos.results.length>0&&p(n.data.videos.results[0].key),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.t0;case 11:case"end":return t.stop()}}),null,null,[[0,7]])}(b)}),[b]);return r.a.createElement("section",null,r.a.createElement(ue,null),r.a.createElement(U,{basket:E}),r.a.createElement("div",{className:"max-container"},r.a.createElement(I,{id:"search",tabMovieTypehead:x,sendSearchText:function(e){!function(){var n,t,a;s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.a.awrap(oe()("".concat(T).concat(N,"&").concat(S,"&query=").concat(e)));case 3:(n=r.sent).data.total_results>0?(t=n.data.results.slice(0,10),a=n.data.results.slice(0,1),v(a[0]),y(t)):console.log("no search results sorry"),r.next=11;break;case 7:throw r.prev=7,r.t0=r.catch(0),console.error(r.t0),r.t0;case 11:case"end":return r.stop()}}),null,null,[[0,7]])}()},sendHandleChange:function(e){!function(){var n,t;s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!(e.length>1)){a.next=6;break}return a.next=4,s.a.awrap(oe()("".concat(T).concat(N,"&").concat(S,"&query=").concat(e)));case 4:(n=a.sent).data.total_results>0?(t=n.data.results.slice(0,10),y(t)):console.log("No search results sorry");case 6:a.next=12;break;case 8:throw a.prev=8,a.t0=a.catch(0),console.log(a.t0),a.t0;case 12:case"end":return a.stop()}}),null,null,[[0,8]])}()}}),r.a.createElement(me,null,r.a.createElement(D,{moviekey:u}),r.a.createElement(R,{myBasket:w,movie:b})),r.a.createElement(B,{myBasket:w,sendPrimeMovie:function(e){v(e)},movies:t,setPrimeMovie:v}),r.a.createElement(ae,{myBasket:w})))}i.a.render(r.a.createElement((function(){return r.a.createElement(de,null)}),null),document.querySelector("#main-container"))}},[[115,1,2]]]);
//# sourceMappingURL=main.d4b57cab.chunk.js.map